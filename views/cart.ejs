<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="/css/cart.css" />
  </head>

  <body>
    <div class="container bg-white rounded-top mt-5" id="zero-pad">
      <div class="row d-flex justify-content-center">
        <div class="col-lg-10 col-12 pt-3">
          <div class="d-flex justify-content-between">
            <div class="pt-1">
              <h4>Cart Details</h4>
            </div>

            <div class="justify-content-end">
              <a href="/cart/history" class="nav-link d-inline">
                <span class="">Order History</span>
              </a>
              <a class="nav-link d-inline" href="/signout"
                ><span class="fas fa-sign-out-alt" aria-hidden="true"></span
                ><span class="text">Order History</span></a
              >
            </div>
          </div>
          <div class="d-flex flex-column pt-4">
            <div>
              <h5 class="text-uppercase font-weight-normal">shopping bag</h5>
            </div>
            <div class="font-weight-normal"><%=products.length %> items</div>
          </div>
          <div class="d-flex flex-row px-lg-5 mx-lg-5 mobile" id="heading">
            <div class="px-lg-5 mr-lg-5" id="produc">PRODUCTS</div>
            <div class="px-lg-5 ml-lg-5" id="prc">PRICE</div>
            <div class="px-lg-5 ml-lg-1" id="quantity">QUANTITY</div>
            <div class="px-lg-5 ml-lg-3" id="total">TOTAL</div>
          </div>
          <% products.forEach(function(product) { %>
          <div
            class="d-flex flex-row justify-content-between align-items-center pt-lg-4 pt-2 pb-3 border-bottom mobile"
          >
            <div class="d-flex flex-row align-items-center">
              <div>
                <img
                  src="/uploads/<%= product.image %>"
                  width="150"
                  height="150"
                  alt=""
                  id="image"
                />
              </div>
              <div class="d-flex flex-column pl-md-3 pl-1">
                <div>
                  <h6><%=product.ProductName %></h6>
                </div>
                <div>
                  Description:
                  <div class="pl-2"><%=product.description %></div>
                </div>
              </div>
            </div>
            <div class="pl-md-0 pl-1">
              ₹ <span id="price_<%=product.id %>"> <%=product.price %> </span>
            </div>
            <div class="pl-md-0 pl-2">
              <a
                class="fa fa-minus-square text-secondary btn"
                id="<%=product.id %>"
                onclick="changeValues(this,'minus')"
              >
              </a>
              <span class="px-md-3 px-1" id="quantity">
                <a class="quantity" id="quantity_<%=product.id %>">
                  <%=product.quantity %>
                </a>
              </span>
              <a
                class="fa fa-plus-square text-secondary btn"
                id="<%=product.id %>"
                onclick="changeValues(this,'plus')"
              ></a>
            </div>
            <div class="pl-md-0 pl-1">
              ₹<span id="total_<%=product.id %>">
                <%=((product.price) * (product.quantity)) %>
              </span>
            </div>
            <div class="close">
              <a id="<%=product.id %>" onclick="deleteItems(this)"> &times;</a>
            </div>
          </div>
          <% }) %>
        </div>
      </div>
    </div>
    <div class="container bg-light rounded-bottom py-4" id="zero-pad">
      <div class="row d-flex justify-content-center">
        <div class="col-lg-10 col-12">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <button
                class="btn btn-sm bg-light border border-dark"
                onclick="history.back()"
              >
                GO BACK
              </button>
            </div>
            <div>
              <%if(products.length!=0) {%>
              <a
                class="btn btn-sm bg-dark text-white px-lg-5 px-3"
                onclick="orderAdd()"
                >CONTINUE</a
              >
              <% } %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/cart.js"></script>
  </body>
</html>
